[2025-11-18 14:24:17] INFO in app.main: ğŸš€ Starting application...
[2025-11-18 14:24:17] INFO in app.main: ğŸ“Š Connecting to database...
[2025-11-18 14:24:22] ERROR in app: Failed to connect to MongoDB: localhost:27017: [Errno 61] Connection refused (configured timeouts: socketTimeoutMS: 5000.0ms, connectTimeoutMS: 5000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 691c657145509e313b4da288, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 61] Connection refused (configured timeouts: socketTimeoutMS: 5000.0ms, connectTimeoutMS: 5000.0ms)')>]>
[2025-11-18 16:09:43] INFO in app.main: ğŸš€ Starting application...
[2025-11-18 16:09:43] INFO in app.main: ğŸ“Š Connecting to database...
[2025-11-18 16:09:43] INFO in app: Connected to MongoDB: counselling_bot
[2025-11-18 16:09:43] INFO in app.core.src.prompts: ğŸ”¥ Pre-loading prompts from LangSmith...
[2025-11-18 16:09:44] INFO in app.core.src.prompts:   âœ… Loaded: rewritten-query-prompt
[2025-11-18 16:09:44] INFO in app.core.src.prompts:   âœ… Loaded: query-classifier-prompt
[2025-11-18 16:09:44] INFO in app.core.src.prompts:   âœ… Loaded: general-question-prompt
[2025-11-18 16:09:44] INFO in app.core.src.prompts:   âœ… Loaded: follow-up-questions-prompt
[2025-11-18 16:09:44] INFO in app.core.src.prompts:   âœ… Loaded: rules-agent-prompt
[2025-11-18 16:09:45] INFO in app.core.src.prompts:   âœ… Loaded: program-extraction-prompt
[2025-11-18 16:09:45] INFO in app.core.src.prompts:   âœ… Loaded: retriever-selection-prompt
[2025-11-18 16:09:45] INFO in app.core.src.prompts:   âœ… Loaded: price_campus_prompt
[2025-11-18 16:09:45] INFO in app.core.src.prompts:   âœ… Loaded: new_system_prompt
[2025-11-18 16:09:45] INFO in app.core.src.prompts:   âœ… Loaded: relevant_docs_ids
[2025-11-18 16:09:46] INFO in app.core.src.prompts:   âœ… Loaded: title-update-prompt
[2025-11-18 16:09:46] INFO in app.core.src.prompts:   âœ… Loaded: ai-summarize-prompt
[2025-11-18 16:09:46] INFO in app.core.src.prompts: âœ… Prompt pre-loading complete: 12/12 loaded
[2025-11-18 16:09:46] INFO in app.main: ğŸ”¥ Pre-loading embedding model at startup...
[2025-11-18 16:09:46] ERROR in app.main: âš ï¸ Failed to pre-load embedding model: Could not import sentence_transformers python package. Please install it with `pip install sentence-transformers`.
[2025-11-18 16:09:46] ERROR in app.main:    First request will experience 8s delay
[2025-11-18 16:09:46] INFO in app.main: ğŸ”¥ Pre-loading retrievers and vectorstores...
[2025-11-18 16:09:46] INFO in app.core.agents.agents: ğŸ”¨ Creating new ChildParentRetriever instance (first time)
[2025-11-18 16:09:46] INFO in app.core.agents.agents: âœ… ChildParentRetriever cached (took 0.027s)
[2025-11-18 16:09:46] INFO in app.main: âœ… Retrievers pre-loaded successfully in 0.03s
[2025-11-18 16:09:46] INFO in app.main:    All vectorstores are now cached and ready
[2025-11-18 16:09:46] INFO in app.main: âœ… Application startup complete!
[2025-11-18 16:09:53] INFO in app.main: ğŸ›‘ Shutting down application...
[2025-11-18 16:09:53] INFO in app: ğŸ”Œ Database disconnected
[2025-11-18 16:09:53] INFO in app.main: âœ… Shutdown complete
[2025-11-18 16:10:15] INFO in app.main: ğŸš€ Starting application...
[2025-11-18 16:10:15] INFO in app.main: ğŸ“Š Connecting to database...
[2025-11-18 16:10:15] INFO in app: Connected to MongoDB: counselling_bot
[2025-11-18 16:10:15] INFO in app.core.src.prompts: ğŸ”¥ Pre-loading prompts from LangSmith...
[2025-11-18 16:10:16] INFO in app.core.src.prompts:   âœ… Loaded: rewritten-query-prompt
[2025-11-18 16:10:16] INFO in app.core.src.prompts:   âœ… Loaded: query-classifier-prompt
[2025-11-18 16:10:16] INFO in app.core.src.prompts:   âœ… Loaded: general-question-prompt
[2025-11-18 16:10:16] INFO in app.core.src.prompts:   âœ… Loaded: follow-up-questions-prompt
[2025-11-18 16:10:16] INFO in app.core.src.prompts:   âœ… Loaded: rules-agent-prompt
[2025-11-18 16:10:17] INFO in app.core.src.prompts:   âœ… Loaded: program-extraction-prompt
[2025-11-18 16:10:17] INFO in app.core.src.prompts:   âœ… Loaded: retriever-selection-prompt
[2025-11-18 16:10:17] INFO in app.core.src.prompts:   âœ… Loaded: price_campus_prompt
[2025-11-18 16:10:17] INFO in app.core.src.prompts:   âœ… Loaded: new_system_prompt
[2025-11-18 16:10:17] INFO in app.core.src.prompts:   âœ… Loaded: relevant_docs_ids
[2025-11-18 16:10:18] INFO in app.core.src.prompts:   âœ… Loaded: title-update-prompt
[2025-11-18 16:10:18] INFO in app.core.src.prompts:   âœ… Loaded: ai-summarize-prompt
[2025-11-18 16:10:18] INFO in app.core.src.prompts: âœ… Prompt pre-loading complete: 12/12 loaded
[2025-11-18 16:10:18] INFO in app.main: ğŸ”¥ Pre-loading embedding model at startup...
[2025-11-18 16:10:27] INFO in app.main: âœ… Embedding model pre-loaded successfully in 9.44s
[2025-11-18 16:10:27] INFO in app.main:    Model: BAAI/bge-m3
[2025-11-18 16:10:27] INFO in app.main:    Device: CPU (shared across N workers)
[2025-11-18 16:10:27] INFO in app.main: ğŸ”¥ Pre-loading retrievers and vectorstores...
[2025-11-18 16:10:27] INFO in app.core.agents.agents: ğŸ”¨ Creating new ChildParentRetriever instance (first time)
[2025-11-18 16:10:33] INFO in app.core.agents.agents: âœ… ChildParentRetriever cached (took 5.354s)
[2025-11-18 16:10:33] INFO in app.main: âœ… Retrievers pre-loaded successfully in 5.35s
[2025-11-18 16:10:33] INFO in app.main:    All vectorstores are now cached and ready
[2025-11-18 16:10:33] INFO in app.main: âœ… Application startup complete!
[2025-11-18 17:12:08] INFO in app.main: ğŸ›‘ Shutting down application...
[2025-11-18 17:12:08] INFO in app: ğŸ”Œ Database disconnected
[2025-11-18 17:12:08] INFO in app.main: âœ… Shutdown complete
[2025-11-18 17:12:12] INFO in app.main: ğŸš€ Starting application...
[2025-11-18 17:12:12] INFO in app.main: ğŸ“Š Connecting to database...
[2025-11-18 17:12:12] INFO in app: Connected to MongoDB: counselling_bot
[2025-11-18 17:12:12] INFO in app.core.src.prompts: ğŸ”¥ Pre-loading prompts from LangSmith...
[2025-11-18 17:12:12] INFO in app.core.src.prompts:   âœ… Loaded: rewritten-query-prompt
[2025-11-18 17:12:12] INFO in app.core.src.prompts:   âœ… Loaded: query-classifier-prompt
[2025-11-18 17:12:12] INFO in app.core.src.prompts:   âœ… Loaded: general-question-prompt
[2025-11-18 17:12:13] INFO in app.core.src.prompts:   âœ… Loaded: follow-up-questions-prompt
[2025-11-18 17:12:13] INFO in app.core.src.prompts:   âœ… Loaded: rules-agent-prompt
[2025-11-18 17:12:13] INFO in app.core.src.prompts:   âœ… Loaded: program-extraction-prompt
[2025-11-18 17:12:13] INFO in app.core.src.prompts:   âœ… Loaded: retriever-selection-prompt
[2025-11-18 17:12:13] INFO in app.core.src.prompts:   âœ… Loaded: price_campus_prompt
[2025-11-18 17:12:14] INFO in app.core.src.prompts:   âœ… Loaded: new_system_prompt
[2025-11-18 17:12:14] INFO in app.core.src.prompts:   âœ… Loaded: relevant_docs_ids
[2025-11-18 17:12:14] INFO in app.core.src.prompts:   âœ… Loaded: title-update-prompt
[2025-11-18 17:12:14] INFO in app.core.src.prompts:   âœ… Loaded: ai-summarize-prompt
[2025-11-18 17:12:14] INFO in app.core.src.prompts: âœ… Prompt pre-loading complete: 12/12 loaded
[2025-11-18 17:12:14] INFO in app.main: ğŸ”¥ Pre-loading embedding model at startup...
[2025-11-18 17:12:21] INFO in app.main: âœ… Embedding model pre-loaded successfully in 7.14s
[2025-11-18 17:12:21] INFO in app.main:    Model: BAAI/bge-m3
[2025-11-18 17:12:21] INFO in app.main:    Device: CPU (shared across N workers)
[2025-11-18 17:12:21] INFO in app.main: ğŸ”¥ Pre-loading retrievers and vectorstores...
[2025-11-18 17:12:21] INFO in app.core.agents.agents: ğŸ”¨ Creating new ChildParentRetriever instance (first time)
[2025-11-18 17:12:27] INFO in app.core.agents.agents: âœ… ChildParentRetriever cached (took 5.514s)
[2025-11-18 17:12:27] INFO in app.main: âœ… Retrievers pre-loaded successfully in 5.51s
[2025-11-18 17:12:27] INFO in app.main:    All vectorstores are now cached and ready
[2025-11-18 17:12:27] INFO in app.main: âœ… Application startup complete!
[2025-11-18 17:14:58] INFO in app.main: ğŸ›‘ Shutting down application...
[2025-11-18 17:14:58] INFO in app: ğŸ”Œ Database disconnected
[2025-11-18 17:14:58] INFO in app.main: âœ… Shutdown complete
[2025-11-18 17:15:02] INFO in app.main: ğŸš€ Starting application...
[2025-11-18 17:15:02] INFO in app.main: ğŸ“Š Connecting to database...
[2025-11-18 17:15:02] INFO in app: Connected to MongoDB: counselling_bot
[2025-11-18 17:15:02] INFO in app.core.src.prompts: ğŸ”¥ Pre-loading prompts from LangSmith...
[2025-11-18 17:15:03] INFO in app.core.src.prompts:   âœ… Loaded: rewritten-query-prompt
[2025-11-18 17:15:03] INFO in app.core.src.prompts:   âœ… Loaded: query-classifier-prompt
[2025-11-18 17:15:03] INFO in app.core.src.prompts:   âœ… Loaded: general-question-prompt
[2025-11-18 17:15:03] INFO in app.core.src.prompts:   âœ… Loaded: follow-up-questions-prompt
[2025-11-18 17:15:03] INFO in app.core.src.prompts:   âœ… Loaded: rules-agent-prompt
[2025-11-18 17:15:04] INFO in app.core.src.prompts:   âœ… Loaded: program-extraction-prompt
[2025-11-18 17:15:04] INFO in app.core.src.prompts:   âœ… Loaded: retriever-selection-prompt
[2025-11-18 17:15:04] INFO in app.core.src.prompts:   âœ… Loaded: price_campus_prompt
[2025-11-18 17:15:04] INFO in app.core.src.prompts:   âœ… Loaded: new_system_prompt
[2025-11-18 17:15:04] INFO in app.core.src.prompts:   âœ… Loaded: relevant_docs_ids
[2025-11-18 17:15:05] INFO in app.core.src.prompts:   âœ… Loaded: title-update-prompt
[2025-11-18 17:15:05] INFO in app.core.src.prompts:   âœ… Loaded: ai-summarize-prompt
[2025-11-18 17:15:05] INFO in app.core.src.prompts: âœ… Prompt pre-loading complete: 12/12 loaded
[2025-11-18 17:15:05] INFO in app.main: ğŸ”¥ Pre-loading embedding model at startup...
[2025-11-18 17:15:12] INFO in app.main: âœ… Embedding model pre-loaded successfully in 6.85s
[2025-11-18 17:15:12] INFO in app.main:    Model: BAAI/bge-m3
[2025-11-18 17:15:12] INFO in app.main:    Device: CPU (shared across N workers)
[2025-11-18 17:15:12] INFO in app.main: ğŸ”¥ Pre-loading retrievers and vectorstores...
[2025-11-18 17:15:12] INFO in app.core.agents.agents: ğŸ”¨ Creating new ChildParentRetriever instance (first time)
[2025-11-18 17:15:16] INFO in app.core.agents.agents: âœ… ChildParentRetriever cached (took 4.838s)
[2025-11-18 17:15:16] INFO in app.main: âœ… Retrievers pre-loaded successfully in 4.84s
[2025-11-18 17:15:16] INFO in app.main:    All vectorstores are now cached and ready
[2025-11-18 17:15:16] INFO in app.main: âœ… Application startup complete!
[2025-11-18 17:15:20] INFO in app.main: ğŸš€ Starting application...
[2025-11-18 17:15:20] INFO in app.main: ğŸ“Š Connecting to database...
[2025-11-18 17:15:20] INFO in app: Connected to MongoDB: counselling_bot
[2025-11-18 17:15:20] INFO in app.core.src.prompts: ğŸ”¥ Pre-loading prompts from LangSmith...
[2025-11-18 17:15:20] INFO in app.core.src.prompts:   âœ… Loaded: rewritten-query-prompt
[2025-11-18 17:15:20] INFO in app.core.src.prompts:   âœ… Loaded: query-classifier-prompt
[2025-11-18 17:15:21] INFO in app.core.src.prompts:   âœ… Loaded: general-question-prompt
[2025-11-18 17:15:21] INFO in app.core.src.prompts:   âœ… Loaded: follow-up-questions-prompt
[2025-11-18 17:15:21] INFO in app.core.src.prompts:   âœ… Loaded: rules-agent-prompt
[2025-11-18 17:15:21] INFO in app.core.src.prompts:   âœ… Loaded: program-extraction-prompt
[2025-11-18 17:15:22] INFO in app.core.src.prompts:   âœ… Loaded: retriever-selection-prompt
[2025-11-18 17:15:22] INFO in app.core.src.prompts:   âœ… Loaded: price_campus_prompt
[2025-11-18 17:15:22] INFO in app.core.src.prompts:   âœ… Loaded: new_system_prompt
[2025-11-18 17:15:22] INFO in app.core.src.prompts:   âœ… Loaded: relevant_docs_ids
[2025-11-18 17:15:22] INFO in app.core.src.prompts:   âœ… Loaded: title-update-prompt
[2025-11-18 17:15:22] INFO in app.core.src.prompts:   âœ… Loaded: ai-summarize-prompt
[2025-11-18 17:15:22] INFO in app.core.src.prompts: âœ… Prompt pre-loading complete: 12/12 loaded
[2025-11-18 17:15:22] INFO in app.main: ğŸ”¥ Pre-loading embedding model at startup...
[2025-11-18 17:15:29] INFO in app.main: âœ… Embedding model pre-loaded successfully in 6.92s
[2025-11-18 17:15:29] INFO in app.main:    Model: BAAI/bge-m3
[2025-11-18 17:15:29] INFO in app.main:    Device: CPU (shared across N workers)
[2025-11-18 17:15:29] INFO in app.main: ğŸ”¥ Pre-loading retrievers and vectorstores...
[2025-11-18 17:15:29] INFO in app.core.agents.agents: ğŸ”¨ Creating new ChildParentRetriever instance (first time)
[2025-11-18 17:15:34] INFO in app.core.agents.agents: âœ… ChildParentRetriever cached (took 4.962s)
[2025-11-18 17:15:34] INFO in app.main: âœ… Retrievers pre-loaded successfully in 5.06s
[2025-11-18 17:15:34] INFO in app.main:    All vectorstores are now cached and ready
[2025-11-18 17:15:34] INFO in app.main: âœ… Application startup complete!
